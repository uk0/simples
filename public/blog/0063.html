<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>使用tunnelbroker构建自己的IPv6代理池 — NeoJ's Web Page[建新的Blog]</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/a.css">
    <link rel="stylesheet" href="/pygments.css">
    <meta name="keywords" content="使用tunnelbroker构建自己的IPv6代理池-建新的Blog,github.com/uk0,NeoJ" />
    <meta name="description" content="这是一个关于建新的个人网站的博客页面。" />
    <style>
        .password-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }

        .password-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 300px;
            text-align: center;
            border-radius: 5px;
        }

        .password-input {
            width: 200px;
            padding: 8px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 3px;
        }

        .password-submit {
            padding: 8px 15px;
            background-color: #008000;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 3px;
            margin: 5px;
        }

        .password-submit:hover {
            background-color: #006600;
        }

        .password-notice {
            background-color: #ffffcc;
            border: 2px solid #ffcc00;
            padding: 15px;
            margin: 30px 0;
            text-align: center;
            border-radius: 5px;
        }

        .error-message {
            color: red;
            font-size: 12px;
            margin-top: 10px;
            min-height: 20px;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #008000;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
<header>
    <nav>
        <table width="620" border="1" class="center">
            <tbody>
            <tr>
                <td width="64" rowspan="2">
                    <img src="/avatar.png" width="64">
                </td>
                <td align="center" colspan="5">
                    <font size="5"><b><font color="#008000">NeoJ</font>'s Web Page</b></font>
                </td>
                <td width="100" align="center" rowspan="2">
                    Last Update:<br>Sep. 19, 2025
                </td>
            </tr>
            <tr>
                <td align="center" width="82">
                    <a href="/">Index</a>
                </td>
                <td class="active" align="center" width="82">
                    <a href="/">Blog</a>
                </td>
                <td align="center" width="82">
                    <a href="https://github.com/uk0">Projects</a>
                </td>
                <td align="center" width="82">
                    <a href="https://github.com/uk0">GitHub</a>
                </td>
                <td align="center" width="82">
                    <a href="/about.html">About</a>
                </td>
            </tr>
            </tbody>
        </table>
    </nav>
</header>

<div class="page center">
    <h1 class="text_center">使用tunnelbroker构建自己的IPv6代理池</h1>

    <p class="meta text_center">
        2025-09-19
    </p>

    <article id="article-content">
        <h1>使用tunnelbroker构建自己的IPv6代理池</h1>
<p>准备</p>
<ul>
<li>阿里云轻量服务器 【Centos 8.2】</li>
<li>tunnelbroker 账号</li>
<li>tunnelbroker 通道</li>
</ul>
<h4>脚本如下</h4>
<ul>
<li>sudo vim /etc/sysctl.conf 编辑系统设置ipv6相关</li>
</ul>
<pre><code class="language-bash">  
net.ipv6.conf.all.disable_ipv6 = 0  
net.ipv6.conf.default.disable_ipv6 = 0  
net.ipv6.conf.lo.disable_ipv6 = 0  
net.ipv6.conf.eth0.disable_ipv6 = 0  
  
  
</code></pre>
<ul>
<li>
<p>sudo sysctl -p 重载系统设置</p>
</li>
<li>
<p>获取Example Config</p>
</li>
</ul>
<blockquote>
<p>2001:xxx:x:xxx::2/64 = [Client IPv6 Address]<br>
172.xxx.xxx.xx = [服务器内网IP]</p>
</blockquote>
<ul>
<li>服务器上执行</li>
</ul>
<pre><code class="language-bash">  
sudo modprobe ipv6  
sudo ip tunnel add he-ipv6 mode sit remote 216.66.22.2 local 172.xxx.xxx.xx ttl 255  
sudo ip link set he-ipv6 up  
sudo ip addr add 2001:xxx:x:xxx::2/64 dev he-ipv6  
sudo ip route add ::/0 dev he-ipv6  
sudo ip -f inet6 addr  
  
</code></pre>
<ul>
<li>验证</li>
</ul>
<pre><code class="language-bash">  
curl ipv6.ip.sb  
  
</code></pre>
<ul>
<li>收尾</li>
</ul>
<pre><code class="language-bash">sudo sysctl -w net.ipv6.ip_nonlocal_bind=1 #开启不限制绑定  
  
# 这个地址在配置里面可以找到 【Routed IPv6 Prefixes】  
sudo ip -6 route add local 2001:xxx:x:xxx::/64 dev lo #添加本地回环接口  
# 测试  
curl --interface 2001:xxx:x:xxx::3 ipv6.ip.sb  
</code></pre>
<ul>
<li>开启代理</li>
</ul>
<pre><code class="language-bash">#amd   
  
wget https://github.com/deanxv/go-proxy-ipv6-pool/releases/download/v1.0.0/go-proxy-ipv6-pool-linux-amd64  
  
#arm  
  
wget https://github.com/deanxv/go-proxy-ipv6-pool/releases/download/v1.0.0/go-proxy-ipv6-pool-linux-arm64  
  
  
chmod +x go-proxy-ipv6-pool-linux-amd64  
  
# cidr = 【Routed IPv6 Prefixes】  
nohup ./go-proxy-ipv6-pool-linux-amd64 --port 51422 --cidr 2001:xxx:x:xxx::/64 &gt; proxy.log 2&gt;&amp;1 &amp;  
  
curl -x http://xx.xx.xx.xx:51422 http://6.ipw.cn/  
  
# 会收到变化的ipv6地址  
</code></pre>


        
    </article>
</div>



<footer>
    <div class="footer center text_center">
        <p><font size="2">Website is best viewed in 800x600 or higher equivalent resolution.</font></p>
        <hr>
        <p><img src="/CC-BY-SA.png" height="31">&nbsp;<img src="/linuxnow.gif">&nbsp;<img src="/anybrowser.gif"></p>
        <p><font size="2">Copyright © 2015-2025 Jianxin Zhang. All rights reserved.<br>
            Unless otherwise noted, content on this site is licensed under CC BY-SA 4.0.</font></p>
    </div>
</footer>
</body>
</html>