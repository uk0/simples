<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Docker Development HDFS for Flink Sink</title>
<meta name="description" content="笔记">
<meta name="keywords" content="HDFS,flink">
<style>
body {
  font-family: sans-serif;
  background-color: #f0f0f0;
  color: #333;
  max-width: 820px;
  margin: 0 auto;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  transition: background-color 0.5s ease;
}

h1 {
  font-size: 20px;
  text-align: center;
}

h2 {
  font-size: 18px;
  text-align: center;
}

h3 {
  font-size: 16px;
}

h4 {
  font-size: 14px;
}

h5 {
  font-size: 12px;
}

h6 {
  font-size: 11px;
}

pre {
  background-color: #f5f5f5;
  padding: 10px;
  border-radius: 5px;
  overflow-x: auto;
}

code {
  font-family: monospace;
  background-color: #eee;
  padding: 2px 4px;
  border-radius: 3px;
}

.night-mode {
  background-color: #222;
  color: #eee;
}

.night-mode code {
  background-color: #333;
}

.night-mode pre {
  background-color: #333;
}
</style>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const now = new Date();
    const hour = now.getHours();

    if (hour >= 18 || hour < 6) {
      document.body.classList.add('night-mode');
    }

    const codeBlocks = document.querySelectorAll('pre code');
    codeBlocks.forEach(codeBlock => {
      const language = codeBlock.className.split('-')[1];
      if (language) {
        // You can choose either Highlight.js or Prism.js
        // Here's an example with Highlight.js
        hljs.highlightBlock(codeBlock);
      }
    });
  });
</script>
</head>
<body>
<h1>Docker Development HDFS for Flink Sink</h1>
<h2>HDFS with Docker</h2>
<p>因工作需求所整合Flink + HDFS 作为一个Demo 帮助大家跳坑。
HDFS + Docker 采用集群主从模式。</p>
<ul>
<li>Docker image for single <code>HDFS</code> node.</li>
<li><code>Only for development purpose.</code></li>
<li>License: <code>MIT</code></li>
</ul>
<h3>start</h3>
<pre><code>$ docker pull mdouchement/hdfs</code></pre>
<h3>Local build</h3>
<pre><code>$ docker build -t mdouchement/hdfs .</code></pre>
<h3>Running HDFS container</h3>
<pre><code># Running and get a Bash interpreter
$ docker run -p 22022:22 -p 8020:8020 -p 50010:50010 -p 50020:50020 -p 50070:50070 -p 50075:50075 -it mdouchement/hdfs

# With NFS
$ docker run -p 22022:22 -p 8020:8020 -p 50010:50010 -p 50020:50020 -p 50070:50070 -p 50075:50075 -p 111:111 -p 2049:2049 -it mdouchement/hdfs

# Running as daemon
$ docker run -p 22022:22 -p 8020:8020 -p 50010:50010 -p 50020:50020 -p 50070:50070 -p 50075:50075 -d mdouchement/hdfs

</code></pre>
<h4>Ports</h4>
<ul>
<li>Portmap -> 111</li>
<li>NFS -> 2049</li>
<li>HDFS namenode -> 8020 (hdfs://localhost:8020)</li>
<li>HDFS datanode -> 50010</li>
<li>HDFS datanode (ipc) -> 50020</li>
<li>HDFS Web browser -> 50070</li>
<li>HDFS datanode (http) -> 50075</li>
<li>HDFS secondary namenode -> 50090</li>
<li>SSH -> 22</li>
</ul>
<h3>Contributing</h3>
<ul>
<li>All PRs are welcome.</li>
<li>1.Fork it ( <a href="https://github.com/[my-github-username]/gemsupport/fork">https://github.com/[my-github-username]/gemsupport/fork</a> )</li>
<li>2.Create your feature branch (git checkout -b my-new-feature)</li>
<li>3.Commit your changes (git commit -am 'Add some feature')</li>
<li>4.Push to the branch (git push origin my-new-feature)</li>
<li>5.Create a new Pull Request</li>
</ul>
<h3>dev</h3>
<pre><code> /**HDFS Config*/
  configuration.set("fs.default.name", "hdfs://localhost:8020");</code></pre>
<h3><code>Docker</code>这个是为了快速测试代码，以及快速开发。</h3>
<ul>
<li>真的很方便，用后直接销毁。</li>
<li>也可以持久化储存数据。</li>
<li>详情请查看<code>Docker</code> 官网。</li>
</ul>
<p>Owner <code>breakEval13</code>
<a href="https://github.com/breakEval13">https://github.com/breakEval13</a>
<code>Docker</code>  <a href="https://docker.com">https://docker.com</a></p>
<footer>
Power By Gemini TextGenerate 2024-09-16
</footer>
</body>
</html>