<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngrok做内网穿透。</title>
    <meta name="description" content="Ngrok。">
    <meta name="keywords" content="Docker, Ngrok">
    <style>
        body {
            background-color: #1e1e1e; /* Unix风格 */
            color: #fff;
            font-family: sans-serif;
            max-width: 820px;
            margin: 0 auto;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        h1, h2, h3, h4, h5, h6 {
            color: #ffcc00;
        }

        h1 {
            font-size: 20px;
        }

        h2 {
            font-size: 18px;
        }

        h3 {
            font-size: 16px;
        }

        h4 {
            font-size: 14px;
        }

        h5 {
            font-size: 12px;
        }

        h6 {
            font-size: 11px;
        }

        pre {
            background-color: #282c34;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }

        code {
            color: #f8f8f2;
            font-family: monospace;
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: 1em;
            background: #282c34;
            color: #f8f8f2;
        }

        .hljs-comment {
            color: #6272a4;
        }

        .hljs-keyword {
            color: #c678dd;
        }

        .hljs-string {
            color: #e06c75;
        }

        .hljs-number {
            color: #d19a66;
        }

        .hljs-title {
            color: #e6c07b;
        }

        .hljs-tag {
            color: #e6c07b;
        }

        .hljs-attr {
            color: #e6c07b;
        }

        .hljs-selector-id {
            color: #e6c07b;
        }

        .hljs-selector-class {
            color: #e6c07b;
        }

        .hljs-selector-attr {
            color: #e6c07b;
        }

        .hljs-selector-pseudo {
            color: #e6c07b;
        }

        .hljs-punctuation {
            color: #f8f8f2;
        }

        .hljs-operator {
            color: #f8f8f2;
        }

        .hljs-variable {
            color: #f8f8f2;
        }

        .hljs-template-tag {
            color: #e6c07b;
        }

        .hljs-template-variable {
            color: #f8f8f2;
        }

        .hljs-attr-value {
            color: #f8f8f2;
        }

        .hljs-literal {
            color: #d19a66;
        }

        .hljs-built_in {
            color: #f8f8f2;
        }

        .hljs-doctag {
            color: #f8f8f2;
        }

        .hljs-meta {
            color: #f8f8f2;
        }

        .hljs-meta-string {
            color: #f8f8f2;
        }

        .hljs-meta-keyword {
            color: #f8f8f2;
        }

        .hljs-emphasis {
            color: #f8f8f2;
            font-style: italic;
        }

        .hljs-strong {
            color: #f8f8f2;
            font-weight: bold;
        }

        .hljs-link {
            color: #f8f8f2;
            text-decoration: underline;
        }

        footer {
            text-align: center;
            font-size: 12px;
            color: #808080;
            margin-top: 20px;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var codeBlocks = document.querySelectorAll('pre code');
            codeBlocks.forEach(function (codeBlock) {
                hljs.highlightElement(codeBlock);
            });
        });
    </script>
</head>
<body>
    <h1>Ngrok做内网穿透。</h1>
    <p>Ngrok。</p>
    <p><img src="https://images.microbadger.com/badges/image/wernight/ngrok.svg" alt="Microbadger badge" /></p>
    <p><img src="http://beta.codenvy.com/factory/resources/codenvy-contribute.svg" alt="Codenvy badge" /></p>
    <p>A <a href="https://www.docker.io/">Docker</a> image for <a href="https://ngrok.com/">ngrok</a> v2, introspected tunnels to localhost.</p>
    <p>It's based on the excellent work of <a href="https://registry.hub.docker.com/u/wizardapps/ngrok/">wizardapps/ngrok</a> and <a href="https://registry.hub.docker.com/u/fnichol/ngrok/">fnichol/ngrok</a>.</p>
    <h2>Features</h2>
    <ul>
        <li><strong>Small</strong>: Built using <a href="https://registry.hub.docker.com/_/busybox">busybox</a>.</li>
        <li><strong>Simple</strong>: Just link as <code>http</code> or <code>https</code> in most cases, see below; exposes ngrok server <code>4040</code> port.</li>
        <li><strong>Secure</strong>: Runs as non-root user with a random UID <code>6737</code> (to avoid mapping to an existing UID).</li>
    </ul>
    <h2>Configuration</h2>
    <p>To see command-line options, run <code>docker run --rm wernight/ngrok ngrok --help</code>.</p>
    <h2>Usage</h2>
    <p>Supposing you've an Apache or Nginx Docker container named <code>web_service_container</code> listening on port 80:</p>
    <pre><code>$ docker run --rm -it --link web_service_container wernight/ngrok ngrok http web_service_container:80</code></pre>
    <h3>Environment variables</h3>
    <p><em>Please consider using directly the command-line arguments of Ngrok.</em></p>
    <p>If you use the default <code>CMD</code> (i.e. don't specify the ngrok command-line but only <code>wernight/ngrok</code>),</p>
    <p>then you can use instead envrionment variables magic below.</p>
    <p>You simply have to link the Ngrok container to the application under the <code>app</code> or <code>http</code> or <code>https</code> aliases, and all of the configuration will be done for you by default.</p>
    <p>Additionally, you can specify one of several environment variable (via <code>-e</code>) to configure your Ngrok tunnel:</p>
    <ul>
        <li><code>NGROK_AUTH</code> - Authentication key for your Ngrok account. This is needed for custom subdomains, custom domains, and HTTP authentication.</li>
        <li><code>NGROK_SUBDOMAIN</code> - Name of the custom subdomain to use for your tunnel. You must also provide the authentication token.</li>
        <li><code>NGROK_HOSTNAME</code> - Paying Ngrok customers can specify a custom domain. Only one subdomain or domain can be specified, with the domain taking priority.</li>
        <li><code>NGROK_USERNAME</code> - Username to use for HTTP authentication on the tunnel. You must also specify an authentication token.</li>
        <li><code>NGROK_PASSWORD</code> - Password to use for HTTP authentication on the tunnel. You must also specify an authentication token.</li>
        <li><code>NGROK_PROTOCOL</code> - Can either be <code>HTTP</code> or <code>TCP</code>, and it defaults to <code>HTTP</code> if not specified. If set to <code>TCP</code>, Ngrok will allocate a port instead of a subdomain and proxy TCP requests directly to your application.</li>
        <li><code>NGROK_PORT</code> - Port to expose (defaults to <code>80</code> for <code>HTTP</code> protocol).</li>
    </ul>
    <h4>Full example</h4>
    <ol>
        <li>We'll set up a simple example HTTP server in a docker container named <code>www</code>:</li>
        <pre><code>$ docker run -v /usr/share/nginx/html --name www_data busybox true
$ docker run --rm --volumes-from www_data busybox /bin/sh -c 'echo "<h1>Yo</h1>" > /usr/share/nginx/html/index.html'
$ docker run -d -p 80 --volumes-from www_data --name www nginx
$ curl $(docker port www 80)
<h1>Yo</h1></code></pre>
        <li>Now we'll link that HTTP server into an ngrok container to expose it on the internet:</li>
        <pre><code>$ docker run -d -p 4040 --link www:http --name www_ngrok wernight/ngrok</code></pre>
        <li>You can now access the <a href="https://ngrok.com/docs#client-api">API</a> to find the assigned domain:</li>
        <pre><code>$ curl $(docker port www_ngrok 4040)/api/tunnels</code></pre>
        <p>or access the web UI to see requests and responses:</p>
        <pre><code>$ xdg-open http://$(docker port www_ngrok 4040)</code></pre>
    </ol>
    <h3>Helper</h3>
    <p>For common cases you may want to create an alias in your <code>~/.profile</code> (or <code>~/.bashrc</code>, <code>~/.zshrc</code>, or equivalent):</p>
    <pre><code>function docker-ngrok() {
  docker run --rm -it --link "$1":http wernight/ngrok ngrok http http:80
}
# For ZSH with Oh-My-Zsh! and 'docker' plugin enabled, you can also enable auto-completion:
#compdef __docker_containers docker-ngrok</code></pre>
    <p>Then to the simple example just do <code>docker-ngrok web_service_container</code>.</p>
    <h2>Feedbacks</h2>
    <p>Report issues/questions/feature requests on <a href="https://github.com/wernight/docker-ngrok/issues">GitHub Issues</a>.</p>
    <p>Pull requests are very welcome!</p>
    <footer>
        Power By Gemini TextGenerate 2024-09-16 22:04:44
    </footer>
</body>
</html>