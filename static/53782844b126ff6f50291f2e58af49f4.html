<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Time Machine Backup Fix ERROR</title>
<meta name="description" content="macos catinlina 10.15.4 修复Time Machine 备份错误问题">
<meta name="keywords" content="time machine">
<style>
body {
  background-color: #f0f0f0;
  font-family: sans-serif;
  max-width: 820px;
  margin: 0 auto;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

h1 {
  font-size: 20px;
}

h2 {
  font-size: 18px;
}

h3 {
  font-size: 16px;
}

h4 {
  font-size: 14px;
}

h5 {
  font-size: 12px;
}

h6 {
  font-size: 11px;
}

code {
  background-color: #eee;
  padding: 2px 4px;
  border-radius: 2px;
}

pre {
  background-color: #eee;
  padding: 10px;
  border-radius: 4px;
  overflow-x: auto;
}

img {
  max-width: 100%;
  height: auto;
}

footer {
  text-align: center;
  margin-top: 20px;
  font-size: 12px;
}

.title-container {
  text-align: center;
}

.title-container h1 {
  font-size: 24px;
  margin-bottom: 10px;
}

.title-container p {
  font-size: 16px;
  color: #666;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
<script>
  hljs.highlightAll();
  
  // 获取当前时间
  const now = new Date();
  const hour = now.getHours();

  // 判断白天或夜晚
  const isNight = hour >= 18 || hour < 6;

  // 设置背景颜色
  document.body.style.backgroundColor = isNight ? '#222' : '#f0f0f0';
  document.body.style.color = isNight ? '#fff' : '#333';
</script>
</head>
<body>
<div class="title-container">
  <h1>Time Machine Backup Fix ERROR</h1>
  <p>macos catinlina 10.15.4 修复Time Machine 备份错误问题</p>
</div>

<h3>介绍背景</h3>

<ul>
  <li>系统配置</li>
  <img src="http://112firshme11224.test.upcdn.net/blog/2020-05-08-17-50-43.png!/watermark/text/Zmlyc2gubWU=/font/simyou/align/southeast/size/18/color/FFFFFF/margin/5x5" alt="系统配置">
  <li>Script  <a href="https://github.com/uk0/TimeMachine-sparsebundle">https://github.com/uk0/TimeMachine-sparsebundle</a></li>
</ul>

<h4>问题介绍</h4>

<ul>
  <li>usb 外接硬盘 无法备份 （或者第二备份失败） 长时间插入硬盘 不会自动备份等问题。</li>
  <li>将数据备份到 AWS </li>
  <li>工具 goofys test-macos ./test</li>
</ul>

<h4>测试 </h4>

<ul>
  <li>Mount s3 </li>
  <pre><code class="bash">goofys test-macos ./test</code></pre>
  <li>运行makeImage.sh 脚本创建Image</li>
  <pre><code class="bash">sh  ./makeImage.sh  600 /Volumes/tm</code></pre>
  <img src="http://112firshme11224.test.upcdn.net/blog/2020-05-08-18-06-14.png!/watermark/text/Zmlyc2gubWU=/font/simyou/align/southeast/size/18/color/FFFFFF/margin/5x5" alt="makeImage.sh 脚本创建Image">
  <li>在/Volumes/tm生成类似上图所示的文件（设备名字可能不同）</li>
  <li>双击这个文件会发现多了一个磁盘</li>
  <img src="http://112firshme11224.test.upcdn.net/blog/2020-05-08-18-08-06.png!/watermark/text/Zmlyc2gubWU=/font/simyou/align/southeast/size/18/color/FFFFFF/margin/5x5" alt="双击文件">
  <li>最后告诉系统要使用这个硬盘来进行备份</li>
  <pre><code class="bash">sudo tmutil setdestination /Volumes/Time\ Machine\ Backups</code></pre>
  <li>成功备份截图。</li>
  <img src="http://112firshme11224.test.upcdn.net/blog/2020-05-08-18-25-20.png!/watermark/text/Zmlyc2gubWU=/font/simyou/align/southeast/size/18/color/FFFFFF/margin/5x5" alt="成功备份截图">
  <li>以上的方法 适用与移动硬盘直接格式化后TimeMachine 无法备份，可以 用这个办法试试，将移动硬盘当作S3即可。</li>
</ul>

<footer>
  Power By Gemini TextGenerate 2024-09-16
</footer>
</body>
</html>