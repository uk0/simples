version: '3.8'

services:
  webtop:
    security_opt:
      - seccomp:unconfined
    container_name: webtop
    image: swr.cn-north-4.myhuaweicloud.com/tensor/aisocautoman:cmschina
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - SUBFOLDER=/  # optional, if you have a subfolder for the app
      - CUSTOM_USER=admin
      - PASSWORD=asdasd110.1
    ports:
      - "30009:3000"
    volumes:
      - ./webtop:/config  # Persistent config storage on the host
      - /var/run/docker.sock:/var/run/docker.sock  # Optional, for Docker-in-Docker
    shm_size: "4gb"  # Optional, adjust shared memory if needed
    restart: unless-stopped
    privileged: true  # Optional, if your container needs additional privileges
